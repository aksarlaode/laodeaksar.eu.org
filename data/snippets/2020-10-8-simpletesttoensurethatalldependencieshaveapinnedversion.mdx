---
title: 'Simple test to ensure that all dependencies have a pinned version'
description: 'Simple test to ensure that all dependencies have a pinned version'
language: js
date: '2020-10-16'
image: '/static/images/2020-10-8-simpletesttoensurethatalldependencieshaveapinnedversion.png'
types: snippet
---

```swift snippet
const packageJson = require("../package.json");

describe("Dependencies", () => {
  // Reference https://gist.github.com/jhorsman/62eeea161a13b80e39f5249281e17c39
  const semverRegex = /^([0-9]+)\.([0-9]+)\.([0-9]+)(?:-([0-9A-Za-z-]+(?:\.[0-9A-Za-z-]+)*))?(?:\+[0-9A-Za-z-]+)?$/;

  it("Ensures all dependencies have a pinned version", () => {
    Object.values(packageJson.dependencies).forEach((version) => {
      expect(version).toMatch(semverRegex);
    });
  });

  it("Ensures all dev dependencies have a pinned version", () => {
    Object.values(packageJson.devDependencies).forEach((version) => {
      expect(version).toMatch(semverRegex);
    });
  });
});

```
